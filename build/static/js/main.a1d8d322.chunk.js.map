{"version":3,"sources":["Components/filter/index.js","Components/message/index.js","Components/personForm/index.js","services/phonebook.js","Components/persons/subcomponents/deletebtn/index.js","Components/persons/index.js","App.js","index.js"],"names":["Filter","filterCriteria","handleChangeFilter","value","onChange","Message","message","mstyle","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","PersonForm","newName","handleChange","newNumber","handleChangeNumber","handleClick","onClick","type","baseUrl","axios","get","then","res","data","newObj","post","id","delete","console","log","put","DeleteButton","persons","setPersons","setErrorMessage","setErrorMessageType","e","preventDefault","window","confirm","server","filter","per","catch","err","setTimeout","Persons","showFiltered","filteredPerson","map","item","name","number","App","useState","useEffect","people","setNewName","setNewNumber","setFilterCriteria","setFilteredPerson","setShowFiltered","errorMessage","errorMessageType","target","toLowerCase","lowerArr","newArr","i","length","push","includes","obj","x","arr","indexOf","checkIfPresent","val","idOf","person","error","handleupdate","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a1d8d322.chunk.js","sourcesContent":["const Filter = ({filterCriteria,handleChangeFilter}) => {\n    return ( \n        <>\n        <div>filter shown with <input value = {filterCriteria} onChange={handleChangeFilter}/></div>\n        <br></br>\n        </>\n     );\n}\n \nexport default Filter;","const Message = ({message,mstyle}) => {\n    \n    const style ={\n       \n            color: `${mstyle}`,\n            background: 'lightgrey',\n            fontSize: 20,\n            borderStyle: 'solid',\n            borderRadius: 5,\n            padding: 10,\n            marginBottom: 10\n          \n    }   \n    \n    \n    return ( <p style={style}>{message}</p> );\n}\n \nexport default Message;","const PersonForm = ({newName,handleChange,newNumber,handleChangeNumber,handleClick}) => {\n    return ( \n        <form>\n      <div>\n        name: <input value={newName} onChange={handleChange}  />\n      </div>\n      <div>number: <input value={newNumber} onChange={handleChangeNumber}/></div>\n\n      <div>\n        <button onClick={handleClick} type=\"submit\">add</button>\n      </div>\n    </form>\n     );\n}\n \nexport default PersonForm;","import axios from 'axios'\nconst baseUrl ='/api/persons'\n\nconst getAll=()=>{\n    const req=axios.get(baseUrl)\n    return req.then(res=>res.data)\n}\n\nconst create = newObj=>{\n    const req = axios.post(baseUrl,newObj)\n    return req.then(res=>res.data)\n}\nconst remove = id =>{\n   const req= axios.delete(`http://localhost:3001/persons/${id}`)\n   return req.then(res =>console.log(res))\n}\n\nconst update = (id,data) =>{\n    const req=axios.put(`http://localhost:3001/persons/${id}`,data)\n    return req.then(res=>res)\n}\n\nexport default {getAll,create,remove,update}","import server from '../../../../services/phonebook'\nconst DeleteButton = ({id, persons,setPersons,setErrorMessage,setErrorMessageType}) => {\n\n    const confirmDelete=()=>{\n        server.remove(id).then(res=>{\n            \n            setPersons(persons.filter(per=> per.id!== id))\n            console.log('person actually deleted')\n        }).catch(err=>{\n            setErrorMessageType('red')\n            setErrorMessage(`Error, this person has already been Deleted`)\n            setPersons(persons.filter(per=> per.id!== id))\n\n            setTimeout(() => {\n                setErrorMessage(null)\n              }, 3000)\n        })\n\n    }\n    const handleClick =  (e)=>{\n        e.preventDefault()\n        window.confirm('are you sure you want to delete this person?') ? confirmDelete():console.log('maybe not')\n        \n    }\n    return ( <button onClick ={handleClick}> delete</button> );\n}\n \nexport default DeleteButton;","import DeleteButton from \"./subcomponents/deletebtn\"\n\n\nconst Persons = ({showFiltered,filteredPerson,setPersons, persons, setErrorMessage , setErrorMessageType}) => {\n  \n    return ( \n        <>\n        {showFiltered ?  filteredPerson.map(item=> <p key={item.name}>{item.name}  {item.number} <DeleteButton setErrorMessageType={setErrorMessageType} setErrorMessage={setErrorMessage} persons={persons} setPersons={setPersons} id={item.id}/> </p>) : persons.map(item=> <p key={item.name}>{item.name} {item.number}<DeleteButton setErrorMessageType={setErrorMessageType} setErrorMessage={setErrorMessage} persons={persons} setPersons={setPersons} id={item.id}/></p> )}\n        </>\n\n     );\n}\n \nexport default Persons;","import  { useState,useEffect } from 'react';\nimport Filter from './Components/filter';\nimport Message from './Components/message';\nimport PersonForm from './Components/personForm';\nimport Persons from './Components/persons';\nimport server from './services/phonebook'\nfunction App() {\n  const [ persons, setPersons ] = useState([]) \n  useEffect(()=>{\n    server.getAll()\n    .then(people=>setPersons(people))\n\n  },[])\n  \n \n  const [ newName, setNewName ] = useState('')\n  const [newNumber,setNewNumber] = useState('')\n  const [filterCriteria,setFilterCriteria] = useState('')\n  const [filteredPerson,setFilteredPerson]=useState('')\n  const [showFiltered, setShowFiltered]=useState(false)\n  const [errorMessage,setErrorMessage]=useState(null)\n  const [errorMessageType,setErrorMessageType]=useState('green')\n\n\n\n  const checkIfPresent=(obj,x)=>{\n    let arr=[]\n    for(let i=0;i<obj.length;i++) {\n      arr.push(obj[i].name)\n    }\n    if(arr.indexOf(x) !== -1){\n       return true\n      \n    }\n       \n  }\n  const handleupdate=(val)=>{\n    const idOf=persons.filter(item=>item.name===val)\n    const per={ name: newName,number :newNumber}\n    server.update(idOf[0].id,per).then(\n      res=>{\n        \n        setPersons(persons.map(person=>person.id !==idOf[0].id ? person :res.data))\n        setErrorMessageType('green')\n        setErrorMessage(\n          ` ${newName}'s contact information was updated!`\n        )\n        setTimeout(() => {\n          setErrorMessageType('green')\n          setErrorMessage(null)\n        }, 3000)\n\n      }\n    ).catch(error=>{\n      setErrorMessageType('red')\n\n      setErrorMessage(\n        ` ${error} Error!`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 3000)\n    })\n    console.log(idOf[0].id)\n    setNewName('')\n    setNewNumber('')\n\n  }\n\n  \n  \n  const handleClick=(e)=>{\n    \n    e.preventDefault()\n\n    if(   checkIfPresent(persons,newName) ){\n      window.confirm(`${newName} is already added to Phonebook, would you like to update`)?  handleupdate(newName) : setNewName('')\n    } else {\n      const per={ name: newName,number :newNumber}\n      server.create(per).then((res)=>{\n        setPersons(persons.concat(res))\n        setNewName('')\n        setNewNumber('')\n        setErrorMessage(\n          `'${newName}' was added to the phonebook`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 3000)\n      }\n\n      )\n  \n    }\n    \n    \n  }\n  const handleChange=(e)=>{\n    setNewName(e.target.value)\n\n  }\n  const handleChangeNumber=(e)=>{\n    setNewNumber(e.target.value)\n\n  }\n\n  const handleChangeFilter=(e)=>{\n    \n    setFilterCriteria(e.target.value.toLowerCase())\n    let lowerArr=[]\n    let newArr =[]\n\n    for(let i=0;i<persons.length;i++) {\n     \n\n      lowerArr.push((persons[i].name).toLowerCase())\n      \n        if(lowerArr[i].includes(filterCriteria)\n        ){\n          newArr.push(persons[i])\n          setFilteredPerson(newArr)\n          console.log(filteredPerson)\n          setShowFiltered(true)\n        }\n    \n    }\n  \n  }\n\n  return (\n    <div>\n    <h2>Phonebook</h2>\n    {errorMessage ? <Message mstyle={errorMessageType} message={errorMessage}/>:null}\n    \n    <Filter filterCriteria={filterCriteria} handleChangeFilter={handleChangeFilter}/>\n    \n    <h3>Add a new</h3>\n    <PersonForm newName={newName} handleChange={handleChange} newNumber={newNumber} handleChangeNumber={handleChangeNumber} handleClick={handleClick}/>\n   \n    <h2>Numbers</h2>\n    <Persons showFiltered={showFiltered} filteredPerson={filteredPerson} setErrorMessageType={setErrorMessageType} setErrorMessage={setErrorMessage} setPersons={setPersons} persons={persons}/>\n    \n  </div>);\n\n  }\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}